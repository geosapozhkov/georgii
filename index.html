<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>georgii</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      font-size: 16px;
      margin: 0;
      padding: 0;
      background-color: #101010;
      color: #F2F2F2;
    }

    nav {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 10;
    }

    nav a {
      margin-right: 12px;
      text-decoration: none;
      color: currentColor;
      transition: opacity 0.3s;
    }

    nav a.active {
      opacity: 0.3;
      pointer-events: none;
    }

    .intro {
      position: fixed;
      top: 20px;
      right: 20px;
      max-width: 420px;
      line-height: 1.4;
      z-index: 2;
    }

    .footer {
      position: fixed;
      bottom: 20px;
      left: 20px;
      z-index: 2;
    }

    .footer p {
      margin: 0;
    }

    .footer p:first-child {
      margin-bottom: 4px;
    }

    .section {
      display: none;
    }

    .section.active {
      display: block;
    }

    body[data-mode="section"] {
      background-color: #ffffff;
      color: #222222;
    }

    /* TEXTS */

    .texts-canvas {
      position: relative;
      width: 100vw;
      height: 90vh;
      min-height: 600px;
    }

    .draggable-text {
      position: absolute;
      width: 360px;
      cursor: grab;
      transition: box-shadow 0.2s, transform 0.2s;
    }

    .draggable-text.lifted {
      cursor: grabbing;
      z-index: 10;
      transform: translateY(-16px) scale(1.04);
      box-shadow: 0 12px 32px rgba(0,0,0,0.25);
    }
  </style>
</head>

<body>

  <!-- NAV -->
  <nav>
    <a href="#" onclick="showSection('texts');return false;">Texts</a>
    <a href="#" onclick="showSection('commercial');return false;">Commercial</a>
    <a href="#" onclick="showSection('aboutme');return false;">About me</a>
  </nav>

  <!-- INTRO -->
  <div class="intro" id="intro">
    <p>Привет, я Гоша — дизайнер, исследующий<br>и создающий картинки, тексты и звуки</p>
    <p>Hi, I'm Gosha — a designer exploring and creating images, texts and sounds</p>
  </div>

  <!-- FOOTER -->
  <div class="footer">
    <p>@georgiisapozhkov</p>
    <p>sapozhkov.george@gmail.com</p>
  </div>

  <!-- SECTIONS -->

  <div id="texts" class="section">
    <div class="texts-canvas" id="texts-canvas"></div>
  </div>

  <div id="commercial" class="section"></div>

  <div id="aboutme" class="section">
    <div style="max-width:1100px;margin:80px 0 0 20px;display:flex;gap:180px;flex-wrap:wrap;">
      <div style="flex:1;min-width:320px;">
        <img src="about me/IMG_0406 4.jpg" style="max-width:100%;margin-bottom:32px;">
        <p>Life and design explorer, pictures with meaning and quality creator.</p>
        <p>
          I'm interested in contributing to the visual image of modernity,
          exploring visual culture and collaborating with studios and designers.
        </p>
      </div>
      <div style="flex:1;min-width:320px;">
        <img src="about me/image 538.jpg" style="max-width:100%;">
      </div>
    </div>
  </div>

  <script>
    /* ===============================
       MAJOR SCREEN BACKGROUND (SMOOTH)
       =============================== */

    (function () {
      const DARK = '#101010';
      const LIGHT = '#FAFAFA';
      const body = document.body;

      const clamp = n => Math.max(0, Math.min(1, n));

      function mix(a, b, t) {
        const c = x => parseInt(x, 16);
        const r = Math.round(c(a.slice(1,3)) + (c(b.slice(1,3)) - c(a.slice(1,3))) * t);
        const g = Math.round(c(a.slice(3,5)) + (c(b.slice(3,5)) - c(a.slice(3,5))) * t);
        const b2 = Math.round(c(a.slice(5,7)) + (c(b.slice(5,7)) - c(a.slice(5,7))) * t);
        return `#${[r,g,b2].map(v=>v.toString(16).padStart(2,'0')).join('')}`.toUpperCase();
      }

      function dayOfYear(d) {
        const start = Date.UTC(d.getFullYear(),0,0);
        const now = Date.UTC(d.getFullYear(),d.getMonth(),d.getDate());
        return (now - start) / 86400000;
      }

      function lightFactor(now) {
        const season = Math.cos((2*Math.PI*(dayOfYear(now)-172))/365);
        const seasonL = 0.24 + 0.58 * ((season + 1) / 2);

        const h = now.getHours() + now.getMinutes() / 60;
        const day = Math.cos((2*Math.PI*(h - 12)) / 24);
        const dayL = 0.14 + 0.70 * Math.pow((day + 1) / 2, 1.25);

        const t = now.getTime() / 1000;
        const drift =
          0.045 * Math.sin(t / (60 * 18)) +
          0.030 * Math.sin(t / (60 * 55) + 1.7) +
          0.020 * Math.sin(t / (60 * 140));

        return clamp(0.58 * seasonL + 0.42 * dayL + drift);
      }

      let current = lightFactor(new Date());
      let lastTime = performance.now();

      function apply(v) {
        body.style.backgroundColor = mix(DARK, LIGHT, v);
        body.style.color = v > 0.62 ? '#111111' : '#F2F2F2';
      }

      body.dataset.mode = 'home';
      apply(current);

      function animate(time) {
        if (body.dataset.mode !== 'section') {
          const target = lightFactor(new Date());
          const dt = Math.min((time - lastTime) / 1000, 0.05);
          lastTime = time;

          const followSpeed = 0.015;
          current += (target - current) * followSpeed * dt * 60;

          apply(current);
        }
        requestAnimationFrame(animate);
      }

      requestAnimationFrame(animate);
    })();

    /* ===============================
       SECTION ROUTING
       =============================== */

    function showSection(id) {
      document.getElementById('intro').style.display = 'none';
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));

      document.getElementById(id)?.classList.add('active');

      [...document.querySelectorAll('nav a')]
        .find(a => a.textContent.replace(/\s/g,'').toLowerCase() === id)
        ?.classList.add('active');

      document.body.dataset.mode = 'section';
      location.hash = id;
    }

    window.addEventListener('hashchange', () => {
      if (!location.hash) {
        document.body.dataset.mode = 'home';
        document.getElementById('intro').style.display = '';
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      }
    });

    /* ===============================
       TEXTS DRAG SYSTEM
       =============================== */

    (function () {
      const canvas = document.getElementById('texts-canvas');
      if (!canvas) return;

      const files = Array.from({ length: 44 }, (_, i) => `${i}.png`);
      const W = window.innerWidth;
      const H = 800;

      files.forEach(f => {
        const img = document.createElement('img');
        img.src = `texts/${f}`;
        img.className = 'draggable-text';
        img.style.left = Math.random() * (W - 300) + 'px';
        img.style.top = Math.random() * (H - 300) + 'px';
        canvas.appendChild(img);
      });

      let active = null, ox = 0, oy = 0;

      document.addEventListener('click', e => {
        if (!e.target.classList.contains('draggable-text')) return;

        if (active === e.target) {
          active.classList.remove('lifted');
          active = null;
          document.onmousemove = null;
        } else {
          active = e.target;
          ox = e.clientX - active.offsetLeft;
          oy = e.clientY - active.offsetTop;
          active.classList.add('lifted');

          document.onmousemove = ev => {
            active.style.left = (ev.clientX - ox) + 'px';
            active.style.top = (ev.clientY - oy) + 'px';
          };
        }
      });
    })();
  </script>

</body>
</html>
